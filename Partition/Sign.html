<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>签名插件</title>
    <script type="text/javascript" src="../js/weui/jquery-2.1.4.js"></script>
    <script type="text/javascript" src="../js/JQPlus/jq-signature.js"></script>

    <style>
        * {
            margin: 0px;
            padding: 0px;
        }
    </style>
</head>
<body style="overflow:hidden">
    <!--签名区域-->
    <div id="signature" class="js-signature"
         data-width="100%"
         data-height="100%"
         data-border="1px solid #F4F4F4"
         data-background="#F4F4F4"
         data-line-color="#000"
         data-line-width="1"    
         data-auto-fit="true">
    </div>
    <div style="position:fixed;bottom:0;width:100%;height:13vh;display:flex;text-align:center;line-height:13vh;font-weight:bold">
        <div style="flex:1;background-color:#a2f2a2" onclick="sendst()">保存簽名</div>
        <div style="flex:1;background-color:white" onclick="$('.js-signature').jqSignature('clearCanvas');">重新簽名</div>
        <div style="flex:1;background-color:lightpink" onclick="plus.webview.currentWebview().close()">取消</div>

    </div>
    <script>
        function sendst() {
            var b64 = $('.js-signature').jqSignature('getDataURL');
           
            plus.webview.getWebviewById("GetMoney").evalJS("test.savesign('" + b64.split(';')[1].split(',')[1]+"')")
        }
        $(function () {
            $("#signature").attr("data-width", $(document).width())
            $("#signature").attr("data-height", $(document).height())
            $('.js-signature').jqSignature();
        })
    </script>
</body>
</html>